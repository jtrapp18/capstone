import{q as x,j as e,r as m,U as F,h as H,u as N,c as D,a as A,i as r,k as n,b as c,d as M,E as t,B as b,F as I,S as L,e as E}from"./index-fJhkIDAs.js";const T=x.footer`
    display: flex;
    align-items: center;
    justify-content: space-between;
    position: absolute;
    bottom:0;
    left: 0;
    width: 100%;
    background: black;
    padding-top: 2%;
    box-shadow: 0px -4px 10px rgba(115, 108, 108, 0.5);

    .page-count {
        cursor: pointer;

        &:hover {
            color: var(--bright-blue);
            text-decoration: underline;
        }
    }

    button {
        background: black;
        color: var(--honey);

        &.disabled {
            color: gray;
        }
    }
`,j=({step:s,setStep:d,prevStep:l,nextStep:u})=>e.jsxs(T,{id:"footer",children:[e.jsx("button",{type:"button",onClick:l,disabled:s===1,children:"Prev Page"}),e.jsx("p",{className:"page-count",onClick:()=>d(0),children:s===0?"Index":`Page ${s} of 5`}),e.jsx("button",{type:"button",onClick:u,disabled:s===5,children:"Next Page"})]}),W=x.div`
    display: flex;
    flex-direction: column;

    div {
        display: flex;
        width: 100%;
        justify-content: space-between;

        p {
            color: var(--bright-blue);
            text-decoration: underline;
            cursor: pointer;
        }
    }
`,q=({setStep:s})=>{const d=[{section:"Basic Information",page:1},{section:"Weather",page:2},{section:"Pests",page:3},{section:"Active Hive Management",page:4},{section:"Outcomes",page:5},{section:"Additional Notes",page:5},{section:"Submit",page:5}];return e.jsxs(W,{children:[e.jsx("h3",{children:"Index"}),d.map(l=>e.jsxs("div",{onClick:()=>s(l.page),children:[e.jsx("p",{children:l.section}),e.jsx("p",{children:l.page})]},l.section))]})},$=x(L)`
  height: 70vh;

  .checkbox-area {
      padding: 5%;
      border: 1px solid gray;
      width: 100%;

      .form-input {
        width: 100%;
        display: flex;
        justify-content: space-between;
        
        input {
          width: fit-content;
        }
      }
  }
`,V=({initObj:s,honeyPullId:d,viewInspection:l})=>{m.useContext(F);const[u,v]=m.useState(!s),{id:g}=H(),{setHives:y}=N(),{addNestedKey:C,updateNestedKey:f}=E(y,"hives",null,l),p=parseInt(g),[o,i]=m.useState(1),P=()=>i(h=>h-1),B=async()=>{i(o+1)},S=s?h=>f("honey_pulls",d,"inspections",s.id,h,p):h=>{C("honey_pulls","inspections",h,p)},w=D({dateChecked:A().required("Date is required").typeError("Invalid date format"),bias:r().required("Bias is required").min(0,"Must be a non-negative number"),hasEggs:n(),hasLarvae:n(),temp:r().min(-10,"Temperature must be between -10 and 50").max(50,"Temperature must be between -10 and 50"),humidity:r().min(0,"Humidity must be between 0 and 100").max(100,"Humidity must be between 0 and 100"),weatherConditions:c().oneOf(["Sunny","Overcast","Rainy","Snowy","Windy"]),antsPresent:n(),slugsPresent:n(),hiveBeetlesPresent:n(),waxMothsPresent:n(),waspsHornetsPresent:n(),micePresent:n(),robberBeesPresent:n(),numPollenPatties:r().min(0,"Number of pollen patties cannot be negative"),numSugarSyrupFrames:r().min(0,"Number of sugar syrup frames cannot be negative"),oxalicAcidDosage:r().min(0,"Oxalic acid dosage cannot be negative"),formicAcidDosage:r().min(0,"Formic acid dosage cannot be negative"),thymolDosage:r().min(0,"Thymol dosage cannot be negative"),apistanDosage:r().min(0,"Apistan dosage cannot be negative"),fate:c().required("Fate is required").oneOf(["Dead","Swarmed","Split","Active"]),varroaMiteCount:r().min(0,"Varroa mite count cannot be negative"),hasChalkbrood:n(),hasTwistedLarvae:n(),activitySurroundingHive:c().nullable().oneOf(["Low","Medium","High"]),stabilityInHive:c().nullable().oneOf(["Low","Medium","High"]),notes:c().nullable().max(255,"Notes must be at most 255 characters")}),a=M({enableReinitialize:!0,initialValues:{dateChecked:(s==null?void 0:s.dateChecked)||"",bias:(s==null?void 0:s.bias)??"",hasEggs:(s==null?void 0:s.hasEggs)??!1,hasLarvae:(s==null?void 0:s.hasLarvae)??!1,temp:(s==null?void 0:s.temp)??"",humidity:(s==null?void 0:s.humidity)||"",weatherConditions:(s==null?void 0:s.weatherConditions)||"",antsPresent:(s==null?void 0:s.antsPresent)??!1,slugsPresent:(s==null?void 0:s.slugsPresent)??!1,hiveBeetlesPresent:(s==null?void 0:s.hiveBeetlesPresent)??!1,waxMothsPresent:(s==null?void 0:s.waxMothsPresent)??!1,waspsHornetsPresent:(s==null?void 0:s.waspsHornetsPresent)??!1,micePresent:(s==null?void 0:s.micePresent)??!1,robberBeesPresent:(s==null?void 0:s.robberBeesPresent)??!1,numPollenPatties:(s==null?void 0:s.numPollenPatties)??0,numSugarSyrupFrames:(s==null?void 0:s.numSugarSyrupFrames)??0,oxalicAcidDosage:(s==null?void 0:s.oxalicAcidDosage)??0,formicAcidDosage:(s==null?void 0:s.formicAcidDosage)??0,thymolDosage:(s==null?void 0:s.thymolDosage)??0,apistanDosage:(s==null?void 0:s.apistanDosage)??0,fate:(s==null?void 0:s.fate)||"",hasTwistedLarvae:(s==null?void 0:s.hasTwistedLarvae)??!1,hasChalkbrood:(s==null?void 0:s.hasChalkbrood)??!1,varroaMiteCount:(s==null?void 0:s.varroaMiteCount)??0,activitySurroundingHive:(s==null?void 0:s.activitySurroundingHive)||"",stabilityInHive:(s==null?void 0:s.stabilityInHive)||"",notes:(s==null?void 0:s.notes)??""},validationSchema:w,onSubmit:h=>{const k={...h,honeyPullId:d};S(k),v(!1)}});return e.jsx("div",{children:u?e.jsxs($,{onSubmit:a.handleSubmit,children:[e.jsx("h2",{children:s?"Inspection Details":"Add New Inspection"}),e.jsx("br",{}),o===0&&e.jsx(q,{setStep:i}),o===1&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{children:"Basic Information"}),e.jsx("span",{children:`Honey Pull ID: ${d}`}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"dateChecked",children:"Date"}),e.jsx("input",{type:"date",id:"dateChecked",name:"dateChecked",value:a.values.dateChecked,onChange:a.handleChange,onBlur:a.handleBlur}),a.touched.dateChecked&&a.errors.dateChecked&&e.jsx(t,{children:a.errors.dateChecked})]}),e.jsx("hr",{}),e.jsx("h3",{children:"Hive Conditions"}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"bias",children:"Bias (Number of frames with brood)"}),e.jsx("input",{type:"number",id:"bias",name:"bias",value:a.values.bias,onChange:a.handleChange,onBlur:a.handleBlur}),a.touched.bias&&a.errors.bias&&e.jsx(t,{children:a.errors.bias})]}),e.jsxs("div",{className:"checkbox-area",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"hasEggs",children:"Eggs Present"}),e.jsx("input",{type:"checkbox",id:"hasEggs",name:"hasEggs",checked:a.values.hasEggs,onChange:a.handleChange,onBlur:a.handleBlur})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"hasLarvae",children:"Larva Present"}),e.jsx("input",{type:"checkbox",id:"hasLarvae",name:"hasLarvae",checked:a.values.hasLarvae,onChange:a.handleChange,onBlur:a.handleBlur})]})]})]}),o===2&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{children:"Weather"}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"temp",children:"Temperature"}),e.jsx("input",{type:"number",id:"temp",name:"temp",value:a.values.temp,onChange:a.handleChange,onBlur:a.handleBlur}),a.touched.temp&&a.errors.temp&&e.jsx(t,{children:a.errors.temp})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"humidity",children:"Humidity"}),e.jsx("input",{type:"number",id:"humidity",name:"humidity",value:a.values.humidity,onChange:a.handleChange,onBlur:a.handleBlur}),a.touched.humidity&&a.errors.humidity&&e.jsx(t,{children:a.errors.humidity})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"weatherConditions",children:"Weather Conditions"}),e.jsxs("select",{id:"weatherConditions",name:"weatherConditions",value:a.values.weatherConditions,onChange:a.handleChange,onBlur:a.handleBlur,children:[e.jsx("option",{value:"",children:"Select Weather"}),e.jsx("option",{value:"Sunny",children:"Sunny"}),e.jsx("option",{value:"Overcast",children:"Overcast"}),e.jsx("option",{value:"Rainy",children:"Rainy"}),e.jsx("option",{value:"Snowy",children:"Snowy"}),e.jsx("option",{value:"Windy",children:"Windy"})]}),a.touched.weatherConditions&&a.errors.weatherConditions&&e.jsx(t,{children:a.errors.weatherConditions})]})]}),o===3&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{children:"Pests"}),e.jsxs("div",{className:"checkbox-area",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"antsPresent",children:"Ants Present"}),e.jsx("input",{type:"checkbox",id:"antsPresent",name:"antsPresent",checked:a.values.antsPresent,onChange:a.handleChange,onBlur:a.handleBlur})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"slugsPresent",children:"Slugs Present"}),e.jsx("input",{type:"checkbox",id:"slugsPresent",name:"slugsPresent",checked:a.values.slugsPresent,onChange:a.handleChange,onBlur:a.handleBlur})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"hiveBeetlesPresent",children:"Hive Beetles Present"}),e.jsx("input",{type:"checkbox",id:"hiveBeetlesPresent",name:"hiveBeetlesPresent",checked:a.values.hiveBeetlesPresent,onChange:a.handleChange,onBlur:a.handleBlur})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"waxMothsPresent",children:"Wax Moths Present"}),e.jsx("input",{type:"checkbox",id:"waxMothsPresent",name:"waxMothsPresent",checked:a.values.waxMothsPresent,onChange:a.handleChange,onBlur:a.handleBlur})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"waspsHornetsPresent",children:"Wasps/Hornets Present"}),e.jsx("input",{type:"checkbox",id:"waspsHornetsPresent",name:"waspsHornetsPresent",checked:a.values.waspsHornetsPresent,onChange:a.handleChange,onBlur:a.handleBlur})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"micePresent",children:"Mice Present"}),e.jsx("input",{type:"checkbox",id:"micePresent",name:"micePresent",checked:a.values.micePresent,onChange:a.handleChange,onBlur:a.handleBlur})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"robberBeesPresent",children:"Robber Bees Present"}),e.jsx("input",{type:"checkbox",id:"robberBeesPresent",name:"robberBeesPresent",checked:a.values.robberBeesPresent,onChange:a.handleChange,onBlur:a.handleBlur})]})]})]}),o===4&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{children:"Active Hive Management"}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"numPollenPatties",children:"Number of Pollen Patties"}),e.jsx("input",{type:"number",id:"numPollenPatties",name:"numPollenPatties",value:a.values.numPollenPatties,onChange:a.handleChange,onBlur:a.handleBlur})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"numSugarSyrupFrames",children:"Number of Sugar Syrup Frames"}),e.jsx("input",{type:"number",id:"numSugarSyrupFrames",name:"numSugarSyrupFrames",value:a.values.numSugarSyrupFrames,onChange:a.handleChange,onBlur:a.handleBlur})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"oxalicAcidDosage",children:"Oxalic Acid Dosage (grams)"}),e.jsx("input",{type:"number",id:"oxalicAcidDosage",name:"oxalicAcidDosage",value:a.values.oxalicAcidDosage,onChange:a.handleChange,onBlur:a.handleBlur})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"formicAcidDosage",children:"Formic Acid Dosage (grams)"}),e.jsx("input",{type:"number",id:"formicAcidDosage",name:"formicAcidDosage",value:a.values.formicAcidDosage,onChange:a.handleChange,onBlur:a.handleBlur})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"thymolDosage",children:"Thymol Dosage (grams)"}),e.jsx("input",{type:"number",id:"thymolDosage",name:"thymolDosage",value:a.values.thymolDosage,onChange:a.handleChange,onBlur:a.handleBlur})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"apistanDosage",children:"Apistan Dosage (grams)"}),e.jsx("input",{type:"number",id:"apistanDosage",name:"apistanDosage",value:a.values.apistanDosage,onChange:a.handleChange,onBlur:a.handleBlur})]})]}),o===5&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:"Outcomes"}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"fate",children:"Fate"}),e.jsxs("select",{id:"fate",name:"fate",value:a.values.fate,onChange:a.handleChange,onBlur:a.handleBlur,children:[e.jsx("option",{value:"",children:"Select Fate"}),e.jsx("option",{value:"Dead",children:"Dead"}),e.jsx("option",{value:"Swarmed",children:"Swarmed"}),e.jsx("option",{value:"Split",children:"Split"}),e.jsx("option",{value:"Active",children:"Active"})]}),a.touched.fate&&a.errors.fate&&e.jsx(t,{children:a.errors.fate})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"varroaMiteCount",children:"Varroa Mite Count"}),e.jsx("input",{type:"number",id:"varroaMiteCount",name:"varroaMiteCount",value:a.values.varroaMiteCount,onChange:a.handleChange,onBlur:a.handleBlur})]}),e.jsxs("div",{className:"checkbox-area",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"hasTwistedLarvae",children:"Has Twisted Larvae?"}),e.jsx("input",{type:"checkbox",id:"hasTwistedLarvae",name:"hasTwistedLarvae",checked:a.values.hasTwistedLarvae,onChange:a.handleChange,onBlur:a.handleBlur})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"hasChalkbrood",children:"Has Chalkbrood?"}),e.jsx("input",{type:"checkbox",id:"hasChalkbrood",name:"hasChalkbrood",checked:a.values.hasChalkbrood,onChange:a.handleChange,onBlur:a.handleBlur})]})]}),e.jsx("hr",{}),e.jsx("h2",{children:"Additional Notes"}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"activitySurroundingHive",children:"Activity Surrounding Hive"}),e.jsxs("select",{id:"activitySurroundingHive",name:"activitySurroundingHive",value:a.values.activitySurroundingHive,onChange:a.handleChange,onBlur:a.handleBlur,children:[e.jsx("option",{value:"",children:"Select Activity Level"}),e.jsx("option",{value:"Low",children:"Low"}),e.jsx("option",{value:"Medium",children:"Medium"}),e.jsx("option",{value:"High",children:"High"})]}),a.touched.activitySurroundingHive&&a.errors.activitySurroundingHive&&e.jsx(t,{children:a.errors.activitySurroundingHive})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"stabilityInHive",children:"Stability in Hive"}),e.jsxs("select",{id:"stabilityInHive",name:"stabilityInHive",value:a.values.stabilityInHive,onChange:a.handleChange,onBlur:a.handleBlur,children:[e.jsx("option",{value:"",children:"Select Stability"}),e.jsx("option",{value:"Low",children:"Low"}),e.jsx("option",{value:"Medium",children:"Medium"}),e.jsx("option",{value:"High",children:"High"})]}),a.touched.stabilityInHive&&a.errors.stabilityInHive&&e.jsx(t,{children:a.errors.stabilityInHive})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"notes",children:"Notes"}),e.jsx("textarea",{id:"notes",name:"notes",value:a.values.notes,onChange:a.handleChange,onBlur:a.handleBlur})]}),e.jsx("hr",{}),e.jsx(b,{type:"submit",children:s?"Submit Updates":"Submit New Inspection"}),e.jsx("hr",{})]}),e.jsx(j,{step:o,setStep:i,prevStep:P,nextStep:B})]}):e.jsx(I,{label:"Inspection Details",formValues:a.values,setIsEditing:v})})};export{V as default};
