const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/react-plotly-5CoU4hnT.js","assets/index-BO8aIUKG.js","assets/index-CCFxYzXr.css","assets/PestImpacts-CF1ELK3t.js","assets/TrendChart-BZUYyOvO.js"])))=>i.map(i=>d[i]);
import{_ as b,j as e,P as f,L as m,l as g,D as P,m as _,G as y}from"./index-BO8aIUKG.js";import{lazy as j,useEffect as C,useState as H}from"react";import{u as A,T as p}from"./TrendChart-BZUYyOvO.js";import"react-dom";const w=j(()=>b(()=>import("./react-plotly-5CoU4hnT.js").then(t=>t.r),__vite__mapDeps([0,1,2]))),E=({title:t,label:i,valueData:u,selectedSlice:v,setSelectedSlice:o})=>{if(!i.data||!u)return e.jsx(f,{children:e.jsx("p",{children:"Loading..."})});const{width:s,height:h,ref:r}=A({}),c=a=>{r.current&&r.current.contains(a.target)&&o(null)};C(()=>(document.addEventListener("click",c),()=>{document.removeEventListener("click",c)}),[r]);const x=a=>{let d=a.points[0].label;!isNaN(d)&&!isNaN(parseFloat(d))&&(d=parseInt(d,10)),o({labelCol:i.label,labelFilter:d})},n={labels:i.data,values:u,type:"pie",textinfo:"label+percent",hoverinfo:"label+percent+value"},l={title:{text:t,font:{color:"black"}},showlegend:!0,legend:{x:1,y:.5,xanchor:"left",yanchor:"middle",title:{text:i.label,font:{color:"black"}}}};return e.jsx(f,{ref:r,children:e.jsx(w,{data:[n],config:{responsive:!0},onClick:x,style:{width:"100%",height:"100%"},layout:{...l,width:s,height:h}},JSON.stringify(i.data))})},I=j(()=>b(()=>import("./PestImpacts-CF1ELK3t.js"),__vite__mapDeps([3,1,2,4]))),O=({graphData:t,label:i,filters:u})=>{const o=u.includes("user")?"hiveId":"state",[s,h]=H(null),r=s?`${s.labelCol}: ${s.labelFilter}`:"";if(!t)return e.jsx(m,{});if(t.length===0)return e.jsx(m,{});if(t.weight.length===0)return e.jsx("h3",{children:"No honey pulls have been recorded"});const c=s?t[s.labelCol].map((l,a)=>l===s.labelFilter?a:-1).filter(l=>l!==-1):null,n=Object.fromEntries(["temp","weight","avg_30DayWeight","humidity","antsPresent","slugsPresent","hiveBeetlesPresent","waxMothsPresent","waspsHornetsPresent","micePresent","robberBeesPresent"].map(l=>[l,c?c.map(a=>t[l][a]):t[l]]));return e.jsxs(g,{children:[e.jsx(P,{}),e.jsxs("h2",{children:[i,r?` for ${_(r)}`:""]}),e.jsx("span",{children:r?"Click outside of pie to clear filter":"Click slice below to filter data"}),e.jsx("div",{className:"graph-container",children:e.jsx(E,{title:`Total Honey Production by ${o==="hiveId"?"Hive":"State"}`,label:{data:t[o],label:o},valueData:t.weight,selectedSlice:s,setSelectedSlice:h})}),e.jsxs(y,{children:[e.jsx("hr",{}),e.jsx("h3",{children:"Impact of Temperature"}),e.jsx("hr",{})]}),e.jsxs("div",{className:"graph-container",children:[e.jsx(p,{title:"Average 30-Day Honey Production by Average Temperature",x:{data:n.temp,label:"Average Temperature"},y:{data:n.avg_30DayWeight,label:"Honey Production (lbs)"}}),e.jsx(p,{title:"Average 30-Day Honey Production by Average Humidity",x:{data:n.humidity,label:"Average Humidity"},y:{data:n.avg_30DayWeight,label:"Honey Production (lbs)"}})]}),e.jsxs(y,{children:[e.jsx("hr",{}),e.jsx("h3",{children:"Impact of Pests"}),e.jsx("hr",{})]}),e.jsx(I,{filteredData:n}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{})]})};export{O as default};
