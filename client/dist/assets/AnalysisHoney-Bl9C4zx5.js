const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/react-plotly-DB_gTT2i.js","assets/index-fJhkIDAs.js","assets/index-Dc1KywlN.css"])))=>i.map(i=>d[i]);
import{r as b,_ as m,j as e,P as x,L as P,l as v,D as j,m as H}from"./index-fJhkIDAs.js";import{u as I,G as g,T as l}from"./GraphSectionHeader-Ba7TTJSF.js";const w=b.lazy(()=>m(()=>import("./react-plotly-DB_gTT2i.js").then(s=>s.r),__vite__mapDeps([0,1,2]))),_=({title:s,label:o,valueData:y,selectedSlice:f,setSelectedSlice:c})=>{if(!o.data||!y)return e.jsx(x,{children:e.jsx("p",{children:"Loading..."})});const{width:n,height:h,ref:i}=I({}),d=r=>{i.current&&i.current.contains(r.target)&&c(null)};b.useEffect(()=>(document.addEventListener("click",d),()=>{document.removeEventListener("click",d)}),[i]);const p=r=>{let u=r.points[0].label;!isNaN(u)&&!isNaN(parseFloat(u))&&(u=parseInt(u,10)),c({labelCol:o.label,labelFilter:u})},t={labels:o.data,values:y,type:"pie",textinfo:"label+percent",hoverinfo:"label+percent+value"},a={title:{text:s,font:{color:"black"}},showlegend:!0,legend:{x:1,y:.5,xanchor:"left",yanchor:"middle",title:{text:o.label,font:{color:"black"}}}};return e.jsx(x,{ref:i,children:e.jsx(w,{data:[t],config:{responsive:!0},onClick:p,style:{width:"100%",height:"100%"},layout:{...a,width:n,height:h}},JSON.stringify(o.data))})},D=({graphData:s,label:o,filters:y})=>{const c=y.includes("user")?"hiveId":"state",[n,h]=b.useState(null),i=n?`${n.labelCol}: ${n.labelFilter}`:"";if(!s)return e.jsx(P,{});if(s.length===0)return e.jsx(P,{});if(s.weight.length===0)return e.jsx("h3",{children:"No honey pulls have been recorded"});const d=n?s[n.labelCol].map((a,r)=>a===n.labelFilter?r:-1).filter(a=>a!==-1):null,t=Object.fromEntries(["temp","weight","avg_30DayWeight","humidity","antsPresent","slugsPresent","hiveBeetlesPresent","waxMothsPresent","waspsHornetsPresent","micePresent","robberBeesPresent"].map(a=>[a,d?d.map(r=>s[a][r]):s[a]]));return e.jsxs(v,{children:[e.jsx(j,{}),e.jsxs("h2",{children:[o,i?` for ${H(i)}`:""]}),e.jsx("span",{children:i?"Click outside of pie to clear filter":"Click slice below to filter data"}),e.jsx("div",{className:"graph-container",children:e.jsx(_,{title:`Total Honey Production by ${c==="hiveId"?"Hive":"State"}`,label:{data:s[c],label:c},valueData:s.weight,selectedSlice:n,setSelectedSlice:h})}),e.jsx(g,{children:"Impact of Temperature"}),e.jsxs("div",{className:"graph-container",children:[e.jsx(l,{title:"Average 30-Day Honey Production by Average Temperature",x:{data:t.temp,label:"Average Temperature"},y:{data:t.avg_30DayWeight,label:"Honey Production (lbs)"}}),e.jsx(l,{title:"Average 30-Day Honey Production by Average Humidity",x:{data:t.humidity,label:"Average Humidity"},y:{data:t.avg_30DayWeight,label:"Honey Production (lbs)"}})]}),e.jsx(g,{children:"Impact of Pests"}),e.jsxs("div",{className:"graph-container",children:[e.jsx(l,{title:"Impact of Ants on Honey Production",x:{data:t.antsPresent,label:"Inspections with Ants Present"},y:{data:t.avg_30DayWeight,label:"Honey Production (lbs)"}}),e.jsx(l,{title:"Impact of Slugs on Honey Production",x:{data:t.slugsPresent,label:"Inspections with Slugs Present"},y:{data:t.avg_30DayWeight,label:"Honey Production (lbs)"}}),e.jsx(l,{title:"Impact of Hive Beetles on Honey Production",x:{data:t.hiveBeetlesPresent,label:"Inspections with Hive Beetles Present"},y:{data:t.avg_30DayWeight,label:"Honey Production (lbs)"}}),e.jsx(l,{title:"Impact of Wax Moths on Honey Production",x:{data:t.waxMothsPresent,label:"Inspections with Wax Moths Present"},y:{data:t.avg_30DayWeight,label:"Honey Production (lbs)"}}),e.jsx(l,{title:"Impact of Wasps on Honey Production",x:{data:t.waspsHornetsPresent,label:"Inspections with Wasps Present"},y:{data:t.avg_30DayWeight,label:"Honey Production (lbs)"}}),e.jsx(l,{title:"Impact of Mice on Honey Production",x:{data:t.micePresent,label:"Inspections with Mice Present"},y:{data:t.avg_30DayWeight,label:"Honey Production (lbs)"}}),e.jsx(l,{title:"Impact of Robber Bees on Honey Production",x:{data:t.robberBeesPresent,label:"Inspections with Robber Bees Present"},y:{data:t.avg_30DayWeight,label:"Honey Production (lbs)"}})]})]})};export{D as default};
