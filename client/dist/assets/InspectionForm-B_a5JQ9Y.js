import{q as x,j as e,r as m,U as w,h as k,u as F,c as H,a as N,i as t,k as n,b as h,d as D,E as l,B as A,F as M,S as I,e as L}from"./index-CX9BIEl1.js";const E=x.footer`
    display: flex;
    align-items: center;
    justify-content: space-between;
    position: absolute;
    bottom:0;
    left: 0;
    width: 100%;
    background: black;
    padding-top: 2%;
    box-shadow: 0px -4px 10px rgba(115, 108, 108, 0.5);

    .page-count {
        cursor: pointer;

        &:hover {
            color: var(--bright-blue);
            text-decoration: underline;
        }
    }

    button {
        background: black;
        color: var(--honey);

        &.disabled {
            color: gray;
        }
    }
`,T=({step:s,setStep:o,prevStep:r,nextStep:u})=>e.jsxs(E,{id:"footer",children:[e.jsx("button",{type:"button",onClick:r,disabled:s===1,children:"Prev Page"}),e.jsx("p",{className:"page-count",onClick:()=>o(0),children:s===0?"Index":`Page ${s} of 5`}),e.jsx("button",{type:"button",onClick:u,disabled:s===5,children:"Next Page"})]}),W=x.div`
    display: flex;
    flex-direction: column;

    div {
        display: flex;
        width: 100%;
        justify-content: space-between;

        p {
            color: var(--bright-blue);
            text-decoration: underline;
            cursor: pointer;
        }
    }
`,q=({setStep:s})=>{const o=[{section:"Basic Information",page:1},{section:"Weather",page:2},{section:"Pests",page:3},{section:"Active Hive Management",page:4},{section:"Outcomes",page:5},{section:"Additional Notes",page:5},{section:"Submit",page:5}];return e.jsxs(W,{children:[e.jsx("h3",{children:"Index"}),o.map(r=>e.jsxs("div",{onClick:()=>s(r.page),children:[e.jsx("p",{children:r.section}),e.jsx("p",{children:r.page})]},r.section))]})},$=x(I)`
  height: 70vh;

  .checkbox-area {
      padding: 5%;
      border: 1px solid gray;
      width: 100%;

      .form-input {
        width: 100%;
        display: flex;
        justify-content: space-between;
        
        input {
          width: fit-content;
        }
      }
  }
`,V=({initObj:s,honeyPullId:o,viewInspection:r})=>{m.useContext(w);const[u,v]=m.useState(!s),{id:g}=k(),{setHives:b}=F(),{addNestedKey:j,updateNestedKey:y}=L(b,"hives",null,r),p=parseInt(g),[i,c]=m.useState(1),C=()=>c(d=>d-1),f=async()=>{c(i+1)},P=s?d=>y("honey_pulls",o,"inspections",s.id,d,p):d=>{j("honey_pulls","inspections",d,p)},B=H({dateChecked:N().required("Date is required").typeError("Invalid date format"),bias:t().required("Bias is required").min(0,"Must be a non-negative number"),hasEggs:n(),hasLarvae:n(),temp:t().min(-10,"Temperature must be between -10 and 50").max(50,"Temperature must be between -10 and 50"),humidity:t().min(0,"Humidity must be between 0 and 100").max(100,"Humidity must be between 0 and 100"),weatherConditions:h().oneOf(["Sunny","Overcast","Rainy","Snowy","Windy"]),antsPresent:n(),slugsPresent:n(),hiveBeetlesPresent:n(),waxMothsPresent:n(),waspsHornetsPresent:n(),micePresent:n(),robberBeesPresent:n(),numPollenPatties:t().min(0,"Number of pollen patties cannot be negative"),numSugarSyrupFrames:t().min(0,"Number of sugar syrup frames cannot be negative"),oxalicAcidDosage:t().min(0,"Oxalic acid dosage cannot be negative"),formicAcidDosage:t().min(0,"Formic acid dosage cannot be negative"),thymolDosage:t().min(0,"Thymol dosage cannot be negative"),apistanDosage:t().min(0,"Apistan dosage cannot be negative"),fate:h().required("Fate is required").oneOf(["Dead","Swarmed","Split","Active"]),varroaMiteCount:t().min(0,"Varroa mite count cannot be negative"),hasChalkbrood:n(),hasTwistedLarvae:n(),activitySurroundingHive:h().nullable().oneOf(["Low","Medium","High"]),stabilityInHive:h().nullable().oneOf(["Low","Medium","High"]),notes:h().nullable().max(255,"Notes must be at most 255 characters")}),a=D({enableReinitialize:!0,initialValues:{dateChecked:s?.dateChecked||"",bias:s?.bias??"",hasEggs:s?.hasEggs??!1,hasLarvae:s?.hasLarvae??!1,temp:s?.temp??"",humidity:s?.humidity||"",weatherConditions:s?.weatherConditions||"",antsPresent:s?.antsPresent??!1,slugsPresent:s?.slugsPresent??!1,hiveBeetlesPresent:s?.hiveBeetlesPresent??!1,waxMothsPresent:s?.waxMothsPresent??!1,waspsHornetsPresent:s?.waspsHornetsPresent??!1,micePresent:s?.micePresent??!1,robberBeesPresent:s?.robberBeesPresent??!1,numPollenPatties:s?.numPollenPatties??0,numSugarSyrupFrames:s?.numSugarSyrupFrames??0,oxalicAcidDosage:s?.oxalicAcidDosage??0,formicAcidDosage:s?.formicAcidDosage??0,thymolDosage:s?.thymolDosage??0,apistanDosage:s?.apistanDosage??0,fate:s?.fate||"",hasTwistedLarvae:s?.hasTwistedLarvae??!1,hasChalkbrood:s?.hasChalkbrood??!1,varroaMiteCount:s?.varroaMiteCount??0,activitySurroundingHive:s?.activitySurroundingHive||"",stabilityInHive:s?.stabilityInHive||"",notes:s?.notes??""},validationSchema:B,onSubmit:d=>{const S={...d,honeyPullId:o};P(S),v(!1)}});return e.jsx("div",{children:u?e.jsxs($,{onSubmit:a.handleSubmit,children:[e.jsx("h2",{children:s?"Inspection Details":"Add New Inspection"}),e.jsx("br",{}),i===0&&e.jsx(q,{setStep:c}),i===1&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{children:"Basic Information"}),e.jsx("span",{children:`Honey Pull ID: ${o}`}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"dateChecked",children:"Date"}),e.jsx("input",{type:"date",id:"dateChecked",name:"dateChecked",value:a.values.dateChecked,onChange:a.handleChange,onBlur:a.handleBlur}),a.touched.dateChecked&&a.errors.dateChecked&&e.jsx(l,{children:a.errors.dateChecked})]}),e.jsx("hr",{}),e.jsx("h3",{children:"Hive Conditions"}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"bias",children:"Bias (Number of frames with brood)"}),e.jsx("input",{type:"number",id:"bias",name:"bias",value:a.values.bias,onChange:a.handleChange,onBlur:a.handleBlur}),a.touched.bias&&a.errors.bias&&e.jsx(l,{children:a.errors.bias})]}),e.jsxs("div",{className:"checkbox-area",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"hasEggs",children:"Eggs Present"}),e.jsx("input",{type:"checkbox",id:"hasEggs",name:"hasEggs",checked:a.values.hasEggs,onChange:a.handleChange,onBlur:a.handleBlur})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"hasLarvae",children:"Larva Present"}),e.jsx("input",{type:"checkbox",id:"hasLarvae",name:"hasLarvae",checked:a.values.hasLarvae,onChange:a.handleChange,onBlur:a.handleBlur})]})]})]}),i===2&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{children:"Weather"}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"temp",children:"Temperature"}),e.jsx("input",{type:"number",id:"temp",name:"temp",value:a.values.temp,onChange:a.handleChange,onBlur:a.handleBlur}),a.touched.temp&&a.errors.temp&&e.jsx(l,{children:a.errors.temp})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"humidity",children:"Humidity"}),e.jsx("input",{type:"number",id:"humidity",name:"humidity",value:a.values.humidity,onChange:a.handleChange,onBlur:a.handleBlur}),a.touched.humidity&&a.errors.humidity&&e.jsx(l,{children:a.errors.humidity})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"weatherConditions",children:"Weather Conditions"}),e.jsxs("select",{id:"weatherConditions",name:"weatherConditions",value:a.values.weatherConditions,onChange:a.handleChange,onBlur:a.handleBlur,children:[e.jsx("option",{value:"",children:"Select Weather"}),e.jsx("option",{value:"Sunny",children:"Sunny"}),e.jsx("option",{value:"Overcast",children:"Overcast"}),e.jsx("option",{value:"Rainy",children:"Rainy"}),e.jsx("option",{value:"Snowy",children:"Snowy"}),e.jsx("option",{value:"Windy",children:"Windy"})]}),a.touched.weatherConditions&&a.errors.weatherConditions&&e.jsx(l,{children:a.errors.weatherConditions})]})]}),i===3&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{children:"Pests"}),e.jsxs("div",{className:"checkbox-area",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"antsPresent",children:"Ants Present"}),e.jsx("input",{type:"checkbox",id:"antsPresent",name:"antsPresent",checked:a.values.antsPresent,onChange:a.handleChange,onBlur:a.handleBlur})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"slugsPresent",children:"Slugs Present"}),e.jsx("input",{type:"checkbox",id:"slugsPresent",name:"slugsPresent",checked:a.values.slugsPresent,onChange:a.handleChange,onBlur:a.handleBlur})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"hiveBeetlesPresent",children:"Hive Beetles Present"}),e.jsx("input",{type:"checkbox",id:"hiveBeetlesPresent",name:"hiveBeetlesPresent",checked:a.values.hiveBeetlesPresent,onChange:a.handleChange,onBlur:a.handleBlur})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"waxMothsPresent",children:"Wax Moths Present"}),e.jsx("input",{type:"checkbox",id:"waxMothsPresent",name:"waxMothsPresent",checked:a.values.waxMothsPresent,onChange:a.handleChange,onBlur:a.handleBlur})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"waspsHornetsPresent",children:"Wasps/Hornets Present"}),e.jsx("input",{type:"checkbox",id:"waspsHornetsPresent",name:"waspsHornetsPresent",checked:a.values.waspsHornetsPresent,onChange:a.handleChange,onBlur:a.handleBlur})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"micePresent",children:"Mice Present"}),e.jsx("input",{type:"checkbox",id:"micePresent",name:"micePresent",checked:a.values.micePresent,onChange:a.handleChange,onBlur:a.handleBlur})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"robberBeesPresent",children:"Robber Bees Present"}),e.jsx("input",{type:"checkbox",id:"robberBeesPresent",name:"robberBeesPresent",checked:a.values.robberBeesPresent,onChange:a.handleChange,onBlur:a.handleBlur})]})]})]}),i===4&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{children:"Active Hive Management"}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"numPollenPatties",children:"Number of Pollen Patties"}),e.jsx("input",{type:"number",id:"numPollenPatties",name:"numPollenPatties",value:a.values.numPollenPatties,onChange:a.handleChange,onBlur:a.handleBlur})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"numSugarSyrupFrames",children:"Number of Sugar Syrup Frames"}),e.jsx("input",{type:"number",id:"numSugarSyrupFrames",name:"numSugarSyrupFrames",value:a.values.numSugarSyrupFrames,onChange:a.handleChange,onBlur:a.handleBlur})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"oxalicAcidDosage",children:"Oxalic Acid Dosage (grams)"}),e.jsx("input",{type:"number",id:"oxalicAcidDosage",name:"oxalicAcidDosage",value:a.values.oxalicAcidDosage,onChange:a.handleChange,onBlur:a.handleBlur})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"formicAcidDosage",children:"Formic Acid Dosage (grams)"}),e.jsx("input",{type:"number",id:"formicAcidDosage",name:"formicAcidDosage",value:a.values.formicAcidDosage,onChange:a.handleChange,onBlur:a.handleBlur})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"thymolDosage",children:"Thymol Dosage (grams)"}),e.jsx("input",{type:"number",id:"thymolDosage",name:"thymolDosage",value:a.values.thymolDosage,onChange:a.handleChange,onBlur:a.handleBlur})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"apistanDosage",children:"Apistan Dosage (grams)"}),e.jsx("input",{type:"number",id:"apistanDosage",name:"apistanDosage",value:a.values.apistanDosage,onChange:a.handleChange,onBlur:a.handleBlur})]})]}),i===5&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:"Outcomes"}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"fate",children:"Fate"}),e.jsxs("select",{id:"fate",name:"fate",value:a.values.fate,onChange:a.handleChange,onBlur:a.handleBlur,children:[e.jsx("option",{value:"",children:"Select Fate"}),e.jsx("option",{value:"Dead",children:"Dead"}),e.jsx("option",{value:"Swarmed",children:"Swarmed"}),e.jsx("option",{value:"Split",children:"Split"}),e.jsx("option",{value:"Active",children:"Active"})]}),a.touched.fate&&a.errors.fate&&e.jsx(l,{children:a.errors.fate})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"varroaMiteCount",children:"Varroa Mite Count"}),e.jsx("input",{type:"number",id:"varroaMiteCount",name:"varroaMiteCount",value:a.values.varroaMiteCount,onChange:a.handleChange,onBlur:a.handleBlur})]}),e.jsxs("div",{className:"checkbox-area",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"hasTwistedLarvae",children:"Has Twisted Larvae?"}),e.jsx("input",{type:"checkbox",id:"hasTwistedLarvae",name:"hasTwistedLarvae",checked:a.values.hasTwistedLarvae,onChange:a.handleChange,onBlur:a.handleBlur})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"hasChalkbrood",children:"Has Chalkbrood?"}),e.jsx("input",{type:"checkbox",id:"hasChalkbrood",name:"hasChalkbrood",checked:a.values.hasChalkbrood,onChange:a.handleChange,onBlur:a.handleBlur})]})]}),e.jsx("hr",{}),e.jsx("h2",{children:"Additional Notes"}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"activitySurroundingHive",children:"Activity Surrounding Hive"}),e.jsxs("select",{id:"activitySurroundingHive",name:"activitySurroundingHive",value:a.values.activitySurroundingHive,onChange:a.handleChange,onBlur:a.handleBlur,children:[e.jsx("option",{value:"",children:"Select Activity Level"}),e.jsx("option",{value:"Low",children:"Low"}),e.jsx("option",{value:"Medium",children:"Medium"}),e.jsx("option",{value:"High",children:"High"})]}),a.touched.activitySurroundingHive&&a.errors.activitySurroundingHive&&e.jsx(l,{children:a.errors.activitySurroundingHive})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"stabilityInHive",children:"Stability in Hive"}),e.jsxs("select",{id:"stabilityInHive",name:"stabilityInHive",value:a.values.stabilityInHive,onChange:a.handleChange,onBlur:a.handleBlur,children:[e.jsx("option",{value:"",children:"Select Stability"}),e.jsx("option",{value:"Low",children:"Low"}),e.jsx("option",{value:"Medium",children:"Medium"}),e.jsx("option",{value:"High",children:"High"})]}),a.touched.stabilityInHive&&a.errors.stabilityInHive&&e.jsx(l,{children:a.errors.stabilityInHive})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"notes",children:"Notes"}),e.jsx("textarea",{id:"notes",name:"notes",value:a.values.notes,onChange:a.handleChange,onBlur:a.handleBlur})]}),e.jsx("hr",{}),e.jsx(A,{type:"submit",children:s?"Submit Updates":"Submit New Inspection"}),e.jsx("hr",{})]}),e.jsx(T,{step:i,setStep:c,prevStep:C,nextStep:f})]}):e.jsx(M,{label:"Inspection Details",formValues:a.values,setIsEditing:v})})};export{V as default};
